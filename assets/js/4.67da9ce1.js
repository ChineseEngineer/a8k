(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{170:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("a8k 封装了大多数 webpack 的配置，将常用的优化配置集成，并且针对 react 技术栈项目做了正对性配置，虽然屏蔽的大多数复杂性，但是为了对不同项目提供一些灵活的配置，a8k 也提供了一些简答且必要的配置项。")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("mode 用于指定项目是多页面还是单页面，支持两个值：")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("和 webpack 的 output.publicPath 意义一致，指定在浏览器中所引用的「此输出目录对应的公开 URL」。相对 URL(relative URL) 会被相对于 HTML 页面（或 ")]),s("base"),t._v(" 标签）解析。相对于服务的 URL(Server-relative URL)，相对于协议的 URL(protocol-relative URL) 或绝对 URL(absolute URL) 也可是可能用到的，或者有时必须用到，"),s("p"),t._v(" "),s("p",[t._v("例如：当将资源托管到 CDN 时")]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("a8k 默认会缓存构建中 js、css、html、eslint 的结果，只有当这些文件发生变化时才会重新构建，否则其中所有的 webpack loader 都将从缓存中获取结果，目的是为了提高构建性能")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("用于指定 babel 需要处理的额外文件或者需要忽略的文件，这在你调试某些库（需要被编译的代码）时非常用，支持两个配置：")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("include、exclude 的处理规则和 webpack rule conditions 的规则一致，详情见"),s("a",{attrs:{href:"https://webpack.js.org/configuration/module/#rule-conditions",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack rules"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("使用方法：")]),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("该顶配置项用于指定开发服务器信息，用于修改 "),s("code",[t._v("webpack-dev-server")]),t._v("插件的配置，通常你只需要修改端口信息即可。具体支持的配置项"),s("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/",target:"_blank",rel:"noopener noreferrer"}},[t._v("见文档"),s("OutboundLink")],1)]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"配置详解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置详解","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置详解")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("基于 a8k 的项目，在根目录下会有一个 a8k.config.js 的配置文件，用于项目的自定义配置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"基本配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本配置项","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本配置项")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mode","aria-hidden":"true"}},[this._v("#")]),this._v(" mode")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("值")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("single")]),t._v(" "),s("td",[t._v("单页面应用，默认继承 react-router 支持路由，切构建的页面都通过动态导入的方式加载页面 js")])]),t._v(" "),s("tr",[s("td",[t._v("multi")]),t._v(" "),s("td",[t._v("多页面应用，每个页面都有自己的入口文件，a8k 会自动抽离公共的代码，在不同的页面间共享")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"dist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dist","aria-hidden":"true"}},[this._v("#")]),this._v(" dist")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("配置构建生产包（即执行"),e("code",[this._v("k build")]),this._v("）的结果输出目录，默认值:"),e("code",[this._v("dist")]),this._v("即当前项目目录下面的 dist 文件夹下")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"publicpath"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publicpath","aria-hidden":"true"}},[this._v("#")]),this._v(" publicPath")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  publicPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cdn.example.com/assets/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cache"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cache","aria-hidden":"true"}},[this._v("#")]),this._v(" cache")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("配置构建阶段的缓存目录，默认:"),e("code",[this._v("node_modules/.cache")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"babel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#babel","aria-hidden":"true"}},[this._v("#")]),this._v(" babel")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("include")]),this._v("：需要处理的文件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("exclude")]),this._v("：不需要处理的文件")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  babel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    include"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules\\/lodash/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//编译lodash")]),t._v("\n    exclude"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/.*\\.min\\.js/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不处理压缩文件")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"crossorigin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#crossorigin","aria-hidden":"true"}},[this._v("#")]),this._v(" crossOrigin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("配置通过 script、link 引用的 js、css 资源是否支持跨域。默认"),e("code",[this._v("false")]),this._v(",支持两个值："),e("code",[this._v("true")]),this._v("、"),e("code",[this._v("false")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("配置为"),e("code",[this._v("true")]),this._v("会在所有的 script 标签上加上"),e("code",[this._v('crossorigin="anonymous"')]),this._v(",这对于那些将静态资源部署到 CDN 上的应用非常有用，可以让错误捕获程序捕获到来自 CDN 的 js 错误堆栈。如果资源跨域了，但是没配置这个，当出现未捕获的错误时你只会得到"),e("code",[this._v("Script Error")]),this._v("错误，这对于处理现网问题非常不利。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"devserver"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#devserver","aria-hidden":"true"}},[this._v("#")]),this._v(" devServer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"高级配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#高级配置项","aria-hidden":"true"}},[this._v("#")]),this._v(" 高级配置项")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"retry"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#retry","aria-hidden":"true"}},[this._v("#")]),this._v(" retry")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ssrconfig"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssrconfig","aria-hidden":"true"}},[this._v("#")]),this._v(" ssrConfig")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ignorepages"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ignorepages","aria-hidden":"true"}},[this._v("#")]),this._v(" ignorePages")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"自定义-webpack-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义-webpack-配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义 webpack 配置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("利用了 webpack-chain 实现自定义配置，具体配置项是"),e("code",[this._v("chainWebpack")]),this._v(",该配置项提供一个函数，参数有"),e("code",[this._v("config、options")])])}],!1,null,null,null);e.default=r.exports}}]);